Немного контекста к docs/Popug_Architecture_Initial.svg

Изначально получился распределённый монолит, где всем оркестрировал некий фасадный сервис, идя по своему workflow в зависимости от входящих запросов.

Постепенно роли стали смещаться к самим сервисам - у них появилась ответственность при некоем событии дальше извещать другие сервисы (например, сервис записи Аудита и Аналитики при изменении в тасках). Но гораздо проще оказалось просто бросить это в какую-то очередь, чем городить discovery + pub/sub механизмы.

В итоге сейчас есть отдельный принимающий запросы фасад, который принимает запросы от пользователей и перенапраляет в нужные сервисы. Сервисы или возвращают данные, или что-то делает и при изменении состояния отправляют события об этом в отдельные очереди. Если какой-то из сервисов ждёт событий от другого, то просто слушает эту очередь.

Основные сервисы - это Task Tracker и Analytic Calculator. Они модифицируют таски и считают деньги, сохраняя состояния в своих БД. Отдельно стоят:
* User Inventory для аутентификации и прочих задач, связанных с пользователями
* Audit Collector для записи изменений в некую БД (по идее к ней тоже нужен доступ)
* Cron периодчески дёргает иные сервисы, если нужно раз в некоторый период сделать нечто (посчитать дневные аналитики)
